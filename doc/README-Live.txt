# rep2 expack +live

rskさん作 rep2expack を元に、実況用機能を追加しています。


### 追加機能

* 実況用表示
* オートリロード/スクロール
* ハイライトワード/連鎖ハイライト

その他基本機能はベースとなっている rep2expack と同じです。

以下は2ch774がInternetw Archiveからサルベージした+live機能の説明です。
http://web.archive.org/web/20101105031616/http://plus-live.main.jp/

表示設定

    レス表示の種類。
    初期値 (実況時のみ実況用表示)

    レス表示の種類をノーマルと実況用の2種類から選べます。
    サブジェクト欄でスレタイをクリックすると通常表示、スレタイ横の live.png をクリックすると別窓で実況表示するようになっています。

    ID末尾の O (携帯) P (公式p2) Q (フルブラウザ) I (iPhone) を太字に。
    初期値 (しない)

    携帯からの書込 O 、公式p2からの書込 P、フルブラウザからの書込 Q、iPhoneからの書込 I を太字にします。

    連鎖ハイライト
    初期値 (しない)

    ハイライトワードにヒットしたレスに対するアンカーを含むレスを強調表示します。
    連鎖の範囲はNGあぼーんでの設定 (ngaborn_chain_all) と連動しています。

    YouTubeプレビュー表示のサイズ
    初期値 (ノーマルサイズ)

    プレビュー表示のサイズを2段階で指定出来ます。
    ノーマルサイズ 425×350px
    ハーフサイズ 212×175px


実況中設定

    表示するレス数。 
    初期値 (50)

    実況表示のレス表示数です。
    表示数が多いと動作が重くなり、少ないとNG/あぼーん/ハイライトの連鎖が効かなくなります。

    書込フレームの高さ。
    初期値 (85)

    実況表示の下部書込フレームの高さです。
    ピクセル単位で指定します。

    デフォルトの名無しの表示。
    初期値 (しない)

    スペース節約の為デフォルトの「名無し」を非表示にします。

    sage を ▼ に 。 (オートリロード/スクロールするスレのみ)
    初期値 (する)

    スペース節約の為 sage を ▼ に変換します。
    メール欄に sage 以外の言葉も含む場合は ● になります。
    マウスオーバーで内容が表示されます。

    全ての改行とスペースの削除。
    初期値 (する)

    全ての改行を削除して半角スペースに変換します、連続した改行やスペースも半角スペース1つになります。
    全角英数及びスペースは全て半角に変換されます。
    AAは全く考慮していないので崩れます。
    外部リンクや勢い一覧を含む等の一部のレスには適用されません。

    pop.png 又は (p) で被参照レスポップアップ。
    初期値 (する)

    該当レスに対してのアンカー (>>○○) が有るレスを pop.png 又は (p) でポップアップします。
    表示はHTMLポップアップの設定と連動しています。

    レスの方法。
    初期値 (レスボタン画像 re.png )

    レスの方法を2種類から選べます。

    レスボタン画像 re.png 又は (re:)。 
    内容をダブルクリック。
    両方を使用する事も可能です。

    書込規制用タイマー。
    初期値 (タイマー無し)

    10,20,30秒で設定できます。
    カウントダウンが0になると書込ボタンが表示されます。

    ImageCache2のサムネイル作成。
    初期値 (on)

    offに設定した場合、実況用にウインドウを開いた際にImageCache2のサムネイル作成を一時的にoffにします。
    再度サムネイル作成をonにする場合は、サイドメニューから設定して下さい


リロード/スクロール設定

    オートリロードの間隔。
    初期値 (10秒)

    スレ内容をオートリロードする時間を指定します。
    設定できる時間は、5,10,15,20秒です。

    ページ読込みと同時に時間がカウントされ始めるので、流れの速いスレではスクロール中に次の読込みになってしまう事も有ります。

    オートスクロールの滑らかさ。
    初期値 (3)

    スクロールの滑らかさです。
    最も滑らかなのは 1 、オートスクロール無しの場合 0 になります。

    オートスクロールの速度。
    初期値 (10)

    オートスクロールの早さです。
    最速は 1 、オートスクロール無しの場合は上の滑らかさの値を 0 にして下さい。

    スクロールの動きは「滑らかさ」と「速度」の組合せで変化します。
    「速度」が同じ数値でも、「滑らかさ」の設定値によって変わってきます、滑らかな程視認性は上がりますが、逆に速度は落ちていきます。
    デフォルトより速くしたい場合は「滑らかさ」はそのままで「速度」を 1 に近づけて下さい。
    デフォルトでは速すぎるという場合は「速度」はそのままで「滑らかさ」を 1 にするといいでしょう。
    「速度」を 0 にしてもスクロールは止まりません、止めたい場合は「滑らかさ」を 0 にして下さい。


動作や設定に関する注意点

    実況用にスレを開く際は、その板のスレッド一覧のスレタイ横の ボタンから開いて下さい。スレ内のリンクから開くと通常の表示になります。

    既読~新着間の仕切りラインはオートリロード/スクロールに設定したスレのみ表示されます。

    新着レスの先頭があぼーんされている場合、仕切りラインは表示されません。

    「Fatal error: Maximum execution time of 60 seconds exceeded in 〜」が出る場合は、conf.inc.phpの91行目に有るスクリプト実行制限時間の値を増やして下さい。

    鯖のスペックによっては改行の削除処理が追いつかず、スレッド内容の表示が止まる場合があります。その場合は改行の削除をoffにして下さい。

    safari 4では実況中の書込みボタン用Access Key「ctl+z」が使えないようです。Access Keyの仕様が変わった為「ctl+opt+z」になります。

    実況中にレス番号ポップアップからの「これにレス」を使用すると、その後のリロードで実況モードが解除されてしまいます。なので実況中の「ここにレス」は [Re:] をクリック、又は該当レスのダブルクリックから行って下さい。

